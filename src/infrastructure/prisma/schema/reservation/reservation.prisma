model Reservation {
  id String @id @default(cuid())

  opportunitySlotId String          @map("opportunity_slot_id")
  opportunitySlot   OpportunitySlot @relation(fields: [opportunitySlotId], references: [id], onDelete: Cascade)

  status ReservationStatus @default(APPLIED)

  participations Participation[]

  createdBy     String? @map("created_by")
  createdByUser User?   @relation(fields: [createdBy], references: [id], onDelete: SetNull)

  histories ReservationHistory[]

  createdAt DateTime  @default(now()) @map("created_at")
  updatedAt DateTime? @updatedAt @map("updated_at")

  @@map("t_reservations")
}

enum ReservationStatus {
  APPLIED
  ACCEPTED
  REJECTED
  CANCELED
}
