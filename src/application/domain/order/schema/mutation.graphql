extend type Mutation {
  orderCreate(input: OrderCreateInput!): OrderCreatePayload! @authz(rules: [IsUser])
}

input OrderCreateInput {
  items: [OrderItemInput!]!
  receiverAddress: String!
}

input OrderItemInput {
  productId: ID!
  quantity: Int!
}

union OrderCreatePayload = OrderCreateSuccess | OrderCreateError

type OrderCreateSuccess {
  order: Order!
  paymentLink: String!
  paymentProvider: GqlPaymentProvider!
  paymentDeadline: Datetime!
  totalAmount: Int!
  currency: String
  customProperty: String!
}

enum GqlPaymentProvider {
  NMKR_PAY
}

type OrderCreateError {
  message: String!
  code: String!
}
