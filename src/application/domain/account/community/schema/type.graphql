# ------------------------------
# Community Object Type Definitions
# ------------------------------
type Community {
    id: ID!
    name: String
    pointName: String
    image: String
    bio: String
    establishedAt: Datetime
    website: String

    config: CommunityConfig

    places: [Place!]

    memberships: [Membership!]
    wallets: [Wallet!]
    opportunities: [Opportunity!]
    participations: [Participation!]
    utilities: [Utility!]
    articles: [Article!]

    pointFlowStat: CommunityPointFlowStat
    pointFlowStatsMonthly(
        limit: Int
        from: Datetime
        to: Datetime
    ): [CommunityPointFlowStatMonthly!]
    pointFlowStatsWeekly(
        limit: Int
        from: Datetime
        to: Datetime
    ): [CommunityPointFlowStatWeekly!]

    createdAt: Datetime
    updatedAt: Datetime
}

# ------------------------------
# Community Point Flow Statistics Type Definitions
# ------------------------------
type CommunityPointFlowStat {
    communityId: ID!
    issuedPoints: Int!
    grantedPoints: Int!
    transferredPoints: Int!
    updatedAt: Datetime!
}

type CommunityPointFlowStatMonthly {
    communityId: ID!
    month: Datetime!
    issuedPoints: Int!
    grantedPoints: Int!
    transferredPoints: Int!
    updatedAt: Datetime!
}

type CommunityPointFlowStatWeekly {
    communityId: ID!
    week: Datetime!
    issuedPoints: Int!
    grantedPoints: Int!
    transferredPoints: Int!
    updatedAt: Datetime!
}
