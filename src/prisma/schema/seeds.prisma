model IssueCategory {
  id          Int     @id
  code        String
  name        String
  description String?

  issues IssueCategoriesOnIssues[]
  users  IssueCategoriesOnUsers[]

  @@map("m_issue_categories")
}

model Index {
  id          Int       @id
  code        String
  name        String
  valueType   ValueType @map("value_type")
  description String?

  targets Target[]

  @@map("t_indexes")
}

model Agenda {
  id          Int     @id
  code        String
  name        String
  description String?

  users         AgendasOnUsers[]
  groups        AgendasOnGroups[]
  organizations AgendasOnOrganizations[]
  events        AgendasOnEvents[]

  @@map("m_agendas")
}

model Skillset {
  id          Int     @id
  code        String
  name        String
  description String?

  users  SkillsetsOnUsers[]
  events SkillsetsOnEvents[]
  issues SkillsetsOnIssues[]

  @@map("m_skillsets")
}

model State {
  code         String
  countryCode  String         @map("country_code") @db.Char(2)
  name         String
  cities       City[]
  organization Organization[]

  @@id([code, countryCode])
  @@map("m_states")
}

model City {
  code        String @id
  name        String
  stateCode   String @map("state_code")
  countryCode String @map("country_code") @db.Char(2)
  state       State  @relation(fields: [stateCode, countryCode], references: [code, countryCode], onDelete: Restrict)

  cities                 CitiesOnUsers[]
  groups                 CitiesOnGroups[]
  organizations          CitiesOnOrganizations[]
  addressedOrganizations Organization[]
  events                 CitiesOnEvents[]
  issues                 CitiesOnIssues[]

  @@map("m_cities")
}
