# civicship-api

## Install

```shell
pnpm install
```

## Start development

Before starting up the server, make sure you have a connection with the database and set `DATABASE_URL` the correct uri in your env file (`./.env`).

```shell
# Start up server
pnpm dev:https

# See database
pnpm db:studio
```

## Set initial data in your database

```shell
# Seed data by executing `src/prisma/seeds/index.ts`
pnpm db:seed
```

## Migrate database

After migration, make sure to commit the migration file generated by Prisma located in `./src/prisma/migrations/[migration_name]/`.

```shell
# Update type definitions and documents
pnpm db:generate

# Create migration file
pnpm db:migrate  # After execution, you need to input the migration name appropriately.

# Execute migration
pnpm db:deploy
```

## Apply GraphQL schemas and resolvers

```shell
# Generate type definitions
pnpm gql:generate
```
